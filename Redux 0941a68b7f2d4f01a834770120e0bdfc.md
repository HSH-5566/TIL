# Redux

ì¼ì‹œ: 2021ë…„ 11ì›” 16ì¼
íƒœê·¸: ê³µë¶€, í”„ë¡œê·¸ë¨

<aside>
ğŸ“Œ 2021.11 ë…¸ë§ˆë“œì½”ë” ê°•ì˜ ë° ê°„ë‹¨í•œ í™œìš©ì„ í†µí•œ Reduxê³µë¶€

</aside>

---

![Untitled](Redux%200941a68b7f2d4f01a834770120e0bdfc/Untitled.png)

![Untitled](Redux%200941a68b7f2d4f01a834770120e0bdfc/Untitled%201.png)

### Reduxê³µë¶€

- Redux
    - Javascript apllicationì„ ìœ„í•œ ìƒíƒœê´€ë¦¬ ë°©ë²•
    - Reactì™€ ë³„ê°œ â†’ Vue, js, Angular, React ... ì´ìš©ê°€ëŠ¥
- yarn add redux ë˜ëŠ” npm install redux
- ê°•ì˜
    - #1.1 Store, Reducer
        - Store : state ì €ì¥ì†Œ
        - reducer : stateë¥¼ ìœ ì¼í•˜ê²Œ modifyí•˜ëŠ” í•¨ìˆ˜, returní•˜ëŠ” ëª¨ë“  ê²ƒì´ application stateê°€ ë¨
        - Storeìƒì„± : const ì €ì¥ì†Œì´ë¦„ = createStore(reducer)
        - reducerìƒì„± : const ë¦¬ë“€ì„œì´ë¦„ = (state, action) â‡’ { return state} //stateëŠ” currentState
        - ì €ì¥ì†Œì´ë¦„.getState()
    - #1.2 Action
        - Action : reduxì—ì„œ í•¨ìˆ˜ë¶€ë¥¼ ë•Œ ì‚¬ìš©í•˜ëŠ” ë‘ ë²ˆì§¸ ì¸ìë¡œ reducerì™€ ì†Œí†µí•˜ëŠ” ë°©ë²•
        - action ì¶”ê°€ : ì €ì¥ì†Œì´ë¦„.dispatch({type: "ë‚´ìš©", ...}) // ë°˜ë“œì‹œ obj & type ì¡´ì¬
        - dispatch : ë¦¬ë“€ì„œë¥¼ actionì„ ë„£ì–´ í˜¸ì¶œ
    - #1.3 subscribe
        - subscribe: store ë‚´ë¶€ì˜ ë³€í™” ê°ì§€ ë° í•¨ìˆ˜ ì‹¤í–‰
        - ì €ì¥ì†Œì´ë¦„.subscribe(í•¨ìˆ˜)
    - #1.4 recap
        - reducer ë‚´ë¶€ switchë¬¸ ì´ìš©
        - action typeì˜ ê²½ìš° const ADD = "ADD"ì™€ ê°™ì´ ì •ì˜í•´ {type:ADD}ì™€ ê°™ì´ ì˜¤ë¥˜ ë°œê²¬ ì‰½ê²Œ í•˜ê¸°
    - #2.1 state mutation
        - mutate state ì‚¬ìš©í•˜ë©´ ì•ˆë¨ ex) array.push("a");
        - í•­ìƒ ìƒˆë¡œìš´ state create í›„ return
    - #2.3 Delete To Do part Two
        - mutate í•˜ì§€ì•Šê³  array state ìš”ì†Œ ì‚­ì œ : filter()
    - #3.0 Setup
        - npm install react-redux react-router-dom
    - #**3.1 Connecting the Store**
        - react-router-dom ì´ìš© : ë°˜ë“œì‹œ <Router>ì•ˆì—<Routes>ì•ˆì— <Route>
            
            <Router>
              <Routes>
                <Route path="/" element={<Home/>}></Route>
                <Route path="/:id" element={<Detail/>}></Route>
              </Routes>
            </Router>
            
        - react-redux ì‚¬ìš© : index.js â†’ <Provider store={store}><App /></Provider>
    - #**3.2 mapStateToProps**
        - mapStateToProps : storeì™€ componentë¥¼ connectí•˜ëŠ” ë°©ë²•
            
            function mapStateToProps(ë¦¬ë•ìŠ¤ì˜ state, ì»´í¬ë„ŒíŠ¸) {return}
            
             - ì»´í¬ë„ŒíŠ¸ì— Redux stateë¥¼ propsë¡œ ì „ë‹¬ 
            
        - connect() : react-redux ìš”ì†Œ, Redux stateë¡œ ë¶€í„° componentì— propìœ¼ë¡œì¨ ì „ë‹¬
            
            export default connect (mapStateToProps)(component)
            
    - #**3.3 mapDispatchToProps**
        - mapDispatchToProps
        - connect()ì˜ ë‘ë²ˆì§¸ ì¸ì
            
            mapStateToPropsê°€ ì—†ì„ê²½ìš° connect(null, mapDispatchToProps)
            
    - #**3.4 Deleting To Do**
        - ì‚­ì œê°€ ì•ˆë˜ëŠ” ë¬¸ì œ ë°œìƒ! ~> ownProps.idê°€ ì—†ìŒ
            
            <ul>{toDos.map(toDo => <ToDo text={toDo.text} key={[toDo.id](http://todo.id/)}/>)}</ul>ì—ì„œ id ì•ˆë„˜ê²¨ì¤Œ
            
            â†’ <ul>{toDos.map(toDo => <ToDo text={toDo.text} id={[toDo.id](http://todo.id/)} key={[toDo.id](http://todo.id/)}/>)}</ul>
            
    - #**3.6 Conclusions**
        - mapDispatchToProps : dispatchìš©ë„
        - mapStateToProps : getStateìš©ë„
    - #**4.0 Redux Toolkit**
        - Redux ì½”ë“œ ì¤„ì´ëŠ” ë„êµ¬
        - npm install @reduxjs/toolkit
    - #**4.1 createAction**
        - 
    - #**4.2 createReducer**
        - const reducer = **createReducer([], {})**
        - state mutate ê°€ëŠ¥ â†’ push... ì´ë•Œ returní•˜ì§€ ì•ŠìŒ.  ~> redux íˆ´í‚·, Immerê°€ ìƒˆë¡œìš´ state return ì§€ì›
    - #**4.3 configureStore**
        - store ìƒì„± & redux developer tool ì§€ì›
    - #**4.4 createSlice**
        - reducer&action ìƒì„±
        - const toDos = createSlice({name: 'toDoReducer', initialState:[], reducer:{ ... }})